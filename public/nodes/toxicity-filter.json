{
  "type": "toxicity-filter",
  "label": "Toxicity Filter",
  "category": "analysis",
  "icon": "filtericon",
  "color": "red",
  "description": "Filter compounds based on SMILES data and physicochemical thresholds.",
  "outputMockLabel": "13 compounds",
  "defaultInputs": [
    {
      "id": "input-mol-data",
      "name": "Input Compounds",
      "type": "array",
      "required": true,
      "tooltip": "Table of compounds including at least a SMILES column and basic properties."
    }
  ],
  "defaultOutputs": [
    {
      "id": "compound",
      "name": "Compound",
      "type": "string",
      "tooltip": "Compound name or identifier."
    },
    {
      "id": "smiles",
      "name": "SMILES",
      "type": "string",
      "tooltip": "SMILES string representing the compound's chemical structure."
    },
    {
      "id": "skin_irritation",
      "name": "Skin Irritation",
      "type": "string",
      "tooltip": "Predicted level of skin irritation (e.g. Very low, Low, Moderate, High)."
    },
    {
      "id": "sensitization",
      "name": "Sensitization",
      "type": "string",
      "tooltip": "Predicted potential to cause skin sensitization or allergy."
    },
    {
      "id": "ames_mutagenicity",
      "name": "Ames Mutagenicity",
      "type": "string",
      "tooltip": "Predicted Ames test outcome (e.g. Negative or Positive mutagenicity)."
    },
    {
      "id": "dermal_absorption",
      "name": "Dermal Absorption",
      "type": "string",
      "tooltip": "Predicted extent of dermal absorption (e.g. Low, Moderate, High)."
    },
    {
      "id": "status",
      "name": "Status",
      "type": "string",
      "tooltip": "Overall toxicity decision for the compound (Pass, Conditional, or Fail)."
    }
  ],
  "configSchema": [
    {
      "key": "ingredientListText",
      "type": ["text", "file"],
      "label": "Compound List",
      "tooltip": "Compounds for ADMET prediction",
      "suggestedField": ["smiles", "name", "ingredient_name", "inci_name"],
      "accept": ".csv,.txt,.smi"
    },
    {
      "key": "admet_models",
      "type": "select",
      "label": "Admet Prediction Models",
      "options": [
        { "value": "admet_ai", "label": "Admet AI - best for fast predictions" },
        { "value": "swiss_adme", "label": "SwissADME - best for accurate predictions" },
        { "value": "toxtree", "label": "ToxTree - best for comprehensive predictions" }
      ],
      "tooltip": "Choose which ADMET engine to use; models trade off speed vs. detail."
    },
    {
      "key": "mw_threshold",
      "type": "number",
      "label": "MW Threshold",
      "defaultValue": 400,
      "tooltip": "Maximum molecular weight (Da) allowed for compounds."
    },
    {
      "key": "logp_threshold",
      "type": "number",
      "label": "logP Threshold",
      "defaultValue": 4.0,
      "tooltip": "Maximum calculated logP (lipophilicity) allowed."
    },
     {
      "key": "TPSA_threshold",
      "type": "number",
      "label": "TPSA Threshold",
      "defaultValue": 60,
      "tooltip": "Maximum topological polar surface area (Å²); higher TPSA often reduces permeability."
    },
    {
      "key": "HBD_threshold",
      "type": "number",
      "label": "HBD Threshold",
      "defaultValue": 4.0,
      "tooltip": "Maximum number of hydrogen bond donors."
    },
    {
      "key": "HBA_threshold",
      "type": "number",
      "label": "HBA Threshold",
      "defaultValue": 3.0,
      "tooltip": "Maximum number of hydrogen bond acceptors."
    },
    {
      "key": "RotB_threshold",
      "type": "number",
      "label": "RotB Threshold",
      "defaultValue": 4.0,
      "tooltip": "Maximum number of rotatable bonds (flexibility proxy)."
    }
  ],
  "defaultConfig": {
    "smiles_column": "smiles",
    "mw_threshold": 300,
    "logp_threshold": 3.0,
    "mapping": {
      "name": "name",
      "smiles": "smiles",
      "MW_Da": "MW_Da",
      "logP": "logP",
      "TPSA": "TPSA",
      "HBD": "HDB",
      "HBA": "HDA",
      "RotB": "RotB"

    }
  }
}