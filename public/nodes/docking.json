{
  "type": "docking",
  "label": "Molecular Docking",
  "category": "analysis",
  "icon": "dna",
  "color": "purple",
  "description": "Perform molecular docking for ligands and proteins.",
  "defaultInputs": [
    {
      "id": "compoundList",
      "name": "Compound List",
      "type": "array",
      "required": true,
      "tooltip": "Ligand list including identifiers and file paths for each compound."
    },
    {
      "id": "targetList",
      "name": "Protein Target List",
      "type": "array",
      "required": true,
      "tooltip": "Protein targets with prepared structures and optional grid definitions."
    }
  ],
  "defaultOutputs": [
    {
      "id": "dockingTable",
      "name": "Docking Result Table",
      "type": "array",
      "tooltip": "Per‑compound docking metrics (e.g. predicted ΔG) for each target."
    }
  ],
  "configSchema": [
    {
      "key": "engine",
      "type": "select",
      "label": "Docking Engine",
      "options": [
        { "value": "vina", "label": "AutoDock Vina" },
        { "value": "diffdock", "label": "DiffDock" },
        { "value": "swissdock", "label": "SwissDock" }
      ],
      "defaultValue": "vina",
      "tooltip": "Select a docking backend:\n- **AutoDock Vina** – accurate classical docking.\n- **DiffDock** – fast ML‑based pose prediction.\n- **SwissDock** – convenient web‑style presets for quick exploration."
    },
    {
      "key": "vina_exhaustiveness",
      "type": "number",
      "label": "Vina Exhaustiveness (Simple)",
      "placeholder": "Docking exhaustiveness (e.g. 8–20)",
      "defaultValue": 8,
      "showWhen": [
        { "field": "engine", "in": ["vina"] }
      ],
      "tooltip": "Controls how exhaustive Vina's search is; higher values improve coverage at the cost of time."
    },
    {
      "key": "vina_numModes",
      "type": "number",
      "label": "Vina Number of Binding Modes (Advanced)",
      "placeholder": "Number of binding poses to generate",
      "defaultValue": 9,
      "showWhen": [
        { "field": "engine", "in": ["vina"] }
      ],
      "advanced": true,
      "tooltip": "Advanced: number of binding poses Vina should generate per ligand."
    },
    {
      "key": "gridBox",
      "type": "json",
      "label": "Grid Box Definition (Advanced)",
      "placeholder": "{ \"center_x\":0, \"center_y\":0, \"center_z\":0, \"size_x\":20, \"size_y\":20, \"size_z\":20 }",
      "showWhen": [
        { "field": "engine", "in": ["vina", "swissdock"] }
      ],
      "advanced": true,
      "tooltip": "Advanced: JSON definition of the docking search box centre and dimensions (Å)."
    },
    {
      "key": "diffdock_samples",
      "type": "number",
      "label": "DiffDock Samples (Simple)",
      "placeholder": "e.g. 32",
      "defaultValue": 32,
      "showWhen": [
        { "field": "engine", "in": ["diffdock"] }
      ],
      "tooltip": "Number of DiffDock samples per complex; more samples improve diversity but increase runtime."
    },
    {
      "key": "diffdock_confidence_threshold",
      "type": "number",
      "label": "DiffDock Confidence Threshold (Advanced)",
      "placeholder": "0.0 – 1.0",
      "defaultValue": 0.5,
      "showWhen": [
        { "field": "engine", "in": ["diffdock"] }
      ],
      "advanced": true,
      "tooltip": "Advanced: minimum DiffDock confidence score to keep a predicted pose."
    },
    {
      "key": "swissdock_run_type",
      "type": "select",
      "label": "SwissDock Run Type (Simple)",
      "options": [
        { "value": "quick", "label": "Quick – fastest, coarse search" },
        { "value": "balanced", "label": "Balanced – default preset" },
        { "value": "precise", "label": "Precise – slower, higher accuracy" }
      ],
      "defaultValue": "balanced",
      "showWhen": [
        { "field": "engine", "in": ["swissdock"] }
      ],
      "tooltip": "Choose SwissDock preset: **Quick** for speed, **Precise** for more intensive searches."
    },
    {
      "key": "swissdock_precision",
      "type": "select",
      "label": "SwissDock Advanced Precision",
      "options": [
        { "value": "standard", "label": "Standard grid" },
        { "value": "fine", "label": "Fine grid (more detailed scoring)" }
      ],
      "defaultValue": "standard",
      "showWhen": [
        { "field": "engine", "in": ["swissdock"] }
      ],
      "advanced": true,
      "tooltip": "Advanced: switch between standard and fine‑grid scoring for SwissDock."
    }
  ]
}
