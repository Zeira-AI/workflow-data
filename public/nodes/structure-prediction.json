{
  "type": "structure-prediction",
  "label": "Structure Prediction",
  "category": "analysis",
  "icon": "shield-check",
  "color": "blue",
  "description": "Check ingredient/formula compliance against global market regulations",
  "outputMockLabel": "36 compounds",
  "pricing": {
    "credits": 0,
    "executionTime": 1
  },
  "defaultInputs": [
    {
      "id": "data",
      "name": "Input Data",
      "type": "array",
      "required": false,
      "description": "Connect data from upstream node",
      "tooltip": "Connect output from upstream node. Alternatively, use the input mode selector below to choose Single Ingredient, Batch Ingredients, or Full Formula."
    }
  ],
  "defaultOutputs": [
    {
      "id": "Compound_name",
      "name": "Compound_name",
      "type": "string",
      "tooltip": "Name of the compound."
    },
    {
      "id": "SMILES",
      "name": "SMILES",
      "type": "string",
      "tooltip": "SMILES string representing the compound's chemical structure."
    },
    {
      "id": "Status",
      "name": "Status",
      "type": "string",
      "tooltip": "Regulatory status: ALLOWED, RESTRICTED, or PROHIBITED."
    },
    {
      "id": "Max_concentration_(%_w/w)",
      "name": "Max concentration (% w/w)",
      "type": "number",
      "tooltip": "Maximum allowed concentration percentage by weight."
    },
    {
      "id": "Recommended_working_range_(%_w/w)",
      "name": "Recommended working range (% w/w)",
      "type": "string",
      "tooltip": "Recommended working concentration range (e.g., '0.01-0.05' or 'Not permitted')."
    }
  ],
  "configSchema": [
    {
      "key": "inputMode",
      "type": "select",
      "label": "Input Mode",
      "options": [
        {
          "value": "single_ingredient",
          "label": "Single Ingredient"
        },
        {
          "value": "batch_ingredients",
          "label": "Batch Ingredients (CSV)"
        },
        {
          "value": "full_formula",
          "label": "Full Formula / Product Composition"
        },
        {
          "value": "compounds_previous",
          "label": "Compounds (No similar product)"
        },
        {
          "value": "formula_previous",
          "label": "Formula"
        }
      ],
      "defaultValue": "single_ingredient",
      "tooltip": "Choose how to input ingredients for regulatory checking. 'Compounds (No similar product)' is for checking individual compounds from upstream nodes. 'Formula' is for checking full product formulas from upstream nodes."
    },
    {
      "key": "ingredientName",
      "type": "text",
      "label": "Ingredient Name",
      "placeholder": "Enter INCI name, CAS, or common name (autocomplete supported)",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Enter ingredient name. Supports autocomplete for INCI names, CAS numbers, and common names."
    },
    {
      "key": "casNumber",
      "type": "text",
      "label": "CAS No. (Optional)",
      "placeholder": "e.g., 123-45-6",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Optional CAS registry number for precise identification."
    },
    {
      "key": "ecNumber",
      "type": "text",
      "label": "EC No. (Optional)",
      "placeholder": "e.g., 204-617-8",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Optional EC (EINECS) number."
    },
    {
      "key": "femaNumber",
      "type": "text",
      "label": "FEMA No. (Optional)",
      "placeholder": "e.g., 2633",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Optional FEMA (Flavor and Extract Manufacturers Association) number."
    },
    {
      "key": "drugbankId",
      "type": "text",
      "label": "DrugBank ID (Optional)",
      "placeholder": "e.g., DB00131",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Optional DrugBank identifier."
    },
    {
      "key": "intendedUse",
      "type": "select",
      "label": "Intended Use",
      "options": [
        {
          "value": "preservative",
          "label": "Preservative"
        },
        {
          "value": "fragrance",
          "label": "Fragrance"
        },
        {
          "value": "active",
          "label": "Active"
        },
        {
          "value": "excipient",
          "label": "Excipient"
        }
      ],
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Select the intended use of the ingredient."
    },
    {
      "key": "concentration",
      "type": "number",
      "label": "Concentration (%)",
      "placeholder": "e.g., 2.5",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient"] }],
      "tooltip": "Optional but recommended. Concentration percentage in the final product."
    },
    {
      "key": "batchIngredientsFile",
      "type": ["text", "file"],
      "label": "Upload Batch Ingredients CSV",
      "placeholder": "Upload CSV file or paste CSV data. Field mapping will appear after upload...",
      "showWhen": [{ "field": "inputMode", "in": ["batch_ingredients"] }],
      "tooltip": "Upload CSV file with batch ingredients. Required columns: Ingredient name. Optional: Concentration, Function. After uploading, you'll be able to map which columns from your CSV to use.",
      "accept": ".csv,.txt"
    },
    {
      "key": "batchTemplateDownload",
      "type": "markdown",
      "label": "CSV Template",
      "description": "**Template Format:**\n- Required: Ingredient name\n- Optional: Concentration (%), Function\n\nDownload template or use the format above.",
      "showWhen": [{ "field": "inputMode", "in": ["batch_ingredients"] }],
      "color": "info"
    },
    {
      "key": "fullFormulaFile",
      "type": ["text", "file"],
      "label": "Upload Full Formula CSV",
      "placeholder": "Upload CSV file or paste CSV data. Field mapping will appear after upload...",
      "showWhen": [{ "field": "inputMode", "in": ["full_formula"] }],
      "tooltip": "Upload CSV file with full formula composition. Required columns: Ingredient, Concentration (%). Optional: Function, Phase. After uploading, you'll be able to map which columns from your CSV to use.",
      "accept": ".csv,.txt"
    },
    {
      "key": "productType",
      "type": "select",
      "label": "Product Type",
      "options": [
        {
          "value": "leave_on_cosmetic",
          "label": "Leave-on Cosmetic"
        },
        {
          "value": "rinse_off_cosmetic",
          "label": "Rinse-off Cosmetic"
        },
        {
          "value": "personal_care",
          "label": "Personal Care Product"
        },
        {
          "value": "topical_drug",
          "label": "Topical Drug"
        },
        {
          "value": "oral_product",
          "label": "Oral Product"
        }
      ],
      "showWhen": [{ "field": "inputMode", "in": ["full_formula"] }],
      "defaultValue": "leave_on_cosmetic",
      "tooltip": "Select the type of product for formula validation."
    },
    {
      "key": "targetMarkets",
      "type": "multiselect",
      "label": "Market(s)",
      "options": [
        {
          "value": "GLOBAL",
          "label": "Global / All Markets"
        },
        {
          "value": "AF",
          "label": "Afghanistan"
        },
        {
          "value": "AL",
          "label": "Albania"
        },
        {
          "value": "DZ",
          "label": "Algeria"
        },
        {
          "value": "AS",
          "label": "American Samoa"
        },
        {
          "value": "AD",
          "label": "Andorra"
        },
        {
          "value": "AO",
          "label": "Angola"
        },
        {
          "value": "AI",
          "label": "Anguilla"
        },
        {
          "value": "AQ",
          "label": "Antarctica"
        },
        {
          "value": "AG",
          "label": "Antigua and Barbuda"
        },
        {
          "value": "AR",
          "label": "Argentina"
        },
        {
          "value": "AM",
          "label": "Armenia"
        },
        {
          "value": "AW",
          "label": "Aruba"
        },
        {
          "value": "AP",
          "label": "Asia/Pacific Region"
        },
        {
          "value": "AU",
          "label": "Australia"
        },
        {
          "value": "AT",
          "label": "Austria"
        },
        {
          "value": "AZ",
          "label": "Azerbaijan"
        },
        {
          "value": "BS",
          "label": "Bahamas"
        },
        {
          "value": "BH",
          "label": "Bahrain"
        },
        {
          "value": "BD",
          "label": "Bangladesh"
        },
        {
          "value": "BB",
          "label": "Barbados"
        },
        {
          "value": "BY",
          "label": "Belarus"
        },
        {
          "value": "BE",
          "label": "Belgium"
        },
        {
          "value": "BZ",
          "label": "Belize"
        },
        {
          "value": "BJ",
          "label": "Benin"
        },
        {
          "value": "BM",
          "label": "Bermuda"
        },
        {
          "value": "BT",
          "label": "Bhutan"
        },
        {
          "value": "BO",
          "label": "Bolivia"
        },
        {
          "value": "BQ",
          "label": "Bonaire, Sint Eustatius and Saba"
        },
        {
          "value": "BA",
          "label": "Bosnia and Herzegovina"
        },
        {
          "value": "BW",
          "label": "Botswana"
        },
        {
          "value": "BV",
          "label": "Bouvet Island"
        },
        {
          "value": "BR",
          "label": "Brazil"
        },
        {
          "value": "IO",
          "label": "British Indian Ocean Territory"
        },
        {
          "value": "BN",
          "label": "Brunei Darussalam"
        },
        {
          "value": "BG",
          "label": "Bulgaria"
        },
        {
          "value": "BF",
          "label": "Burkina Faso"
        },
        {
          "value": "BI",
          "label": "Burundi"
        },
        {
          "value": "KH",
          "label": "Cambodia"
        },
        {
          "value": "CM",
          "label": "Cameroon"
        },
        {
          "value": "CA",
          "label": "Canada"
        },
        {
          "value": "CV",
          "label": "Cape Verde"
        },
        {
          "value": "KY",
          "label": "Cayman Islands"
        },
        {
          "value": "CF",
          "label": "Central African Republic"
        },
        {
          "value": "TD",
          "label": "Chad"
        },
        {
          "value": "CL",
          "label": "Chile"
        },
        {
          "value": "CN",
          "label": "China"
        },
        {
          "value": "CX",
          "label": "Christmas Island"
        },
        {
          "value": "CC",
          "label": "Cocos (Keeling) Islands"
        },
        {
          "value": "CO",
          "label": "Colombia"
        },
        {
          "value": "KM",
          "label": "Comoros"
        },
        {
          "value": "CG",
          "label": "Congo"
        },
        {
          "value": "CD",
          "label": "Congo, The Democratic Republic of the"
        },
        {
          "value": "CK",
          "label": "Cook Islands"
        },
        {
          "value": "CR",
          "label": "Costa Rica"
        },
        {
          "value": "HR",
          "label": "Croatia"
        },
        {
          "value": "CU",
          "label": "Cuba"
        },
        {
          "value": "CW",
          "label": "Curaçao"
        },
        {
          "value": "CY",
          "label": "Cyprus"
        },
        {
          "value": "CZ",
          "label": "Czech Republic"
        },
        {
          "value": "CI",
          "label": "Côte d'Ivoire"
        },
        {
          "value": "DK",
          "label": "Denmark"
        },
        {
          "value": "DJ",
          "label": "Djibouti"
        },
        {
          "value": "DM",
          "label": "Dominica"
        },
        {
          "value": "DO",
          "label": "Dominican Republic"
        },
        {
          "value": "EC",
          "label": "Ecuador"
        },
        {
          "value": "EG",
          "label": "Egypt"
        },
        {
          "value": "SV",
          "label": "El Salvador"
        },
        {
          "value": "GQ",
          "label": "Equatorial Guinea"
        },
        {
          "value": "ER",
          "label": "Eritrea"
        },
        {
          "value": "EE",
          "label": "Estonia"
        },
        {
          "value": "ET",
          "label": "Ethiopia"
        },
        {
          "value": "FK",
          "label": "Falkland Islands (Malvinas)"
        },
        {
          "value": "FO",
          "label": "Faroe Islands"
        },
        {
          "value": "FJ",
          "label": "Fiji"
        },
        {
          "value": "FI",
          "label": "Finland"
        },
        {
          "value": "FR",
          "label": "France"
        },
        {
          "value": "GF",
          "label": "French Guiana"
        },
        {
          "value": "PF",
          "label": "French Polynesia"
        },
        {
          "value": "TF",
          "label": "French Southern Territories"
        },
        {
          "value": "GA",
          "label": "Gabon"
        },
        {
          "value": "GM",
          "label": "Gambia"
        },
        {
          "value": "GE",
          "label": "Georgia"
        },
        {
          "value": "DE",
          "label": "Germany"
        },
        {
          "value": "GH",
          "label": "Ghana"
        },
        {
          "value": "GI",
          "label": "Gibraltar"
        },
        {
          "value": "GR",
          "label": "Greece"
        },
        {
          "value": "GL",
          "label": "Greenland"
        },
        {
          "value": "GD",
          "label": "Grenada"
        },
        {
          "value": "GP",
          "label": "Guadeloupe"
        },
        {
          "value": "GU",
          "label": "Guam"
        },
        {
          "value": "GT",
          "label": "Guatemala"
        },
        {
          "value": "GG",
          "label": "Guernsey"
        },
        {
          "value": "GN",
          "label": "Guinea"
        },
        {
          "value": "GW",
          "label": "Guinea-Bissau"
        },
        {
          "value": "GY",
          "label": "Guyana"
        },
        {
          "value": "HT",
          "label": "Haiti"
        },
        {
          "value": "HM",
          "label": "Heard Island and Mcdonald Islands"
        },
        {
          "value": "VA",
          "label": "Holy See (Vatican City State)"
        },
        {
          "value": "HN",
          "label": "Honduras"
        },
        {
          "value": "HK",
          "label": "Hong Kong"
        },
        {
          "value": "HU",
          "label": "Hungary"
        },
        {
          "value": "IS",
          "label": "Iceland"
        },
        {
          "value": "IN",
          "label": "India"
        },
        {
          "value": "ID",
          "label": "Indonesia"
        },
        {
          "value": "IR",
          "label": "Iran, Islamic Republic Of"
        },
        {
          "value": "IQ",
          "label": "Iraq"
        },
        {
          "value": "IE",
          "label": "Ireland"
        },
        {
          "value": "IM",
          "label": "Isle of Man"
        },
        {
          "value": "IL",
          "label": "Israel"
        },
        {
          "value": "IT",
          "label": "Italy"
        },
        {
          "value": "JM",
          "label": "Jamaica"
        },
        {
          "value": "JP",
          "label": "Japan"
        },
        {
          "value": "JE",
          "label": "Jersey"
        },
        {
          "value": "JO",
          "label": "Jordan"
        },
        {
          "value": "KZ",
          "label": "Kazakhstan"
        },
        {
          "value": "KE",
          "label": "Kenya"
        },
        {
          "value": "KI",
          "label": "Kiribati"
        },
        {
          "value": "KR",
          "label": "Korea, Republic of"
        },
        {
          "value": "KW",
          "label": "Kuwait"
        },
        {
          "value": "KG",
          "label": "Kyrgyzstan"
        },
        {
          "value": "LA",
          "label": "Laos"
        },
        {
          "value": "LV",
          "label": "Latvia"
        },
        {
          "value": "LB",
          "label": "Lebanon"
        },
        {
          "value": "LS",
          "label": "Lesotho"
        },
        {
          "value": "LR",
          "label": "Liberia"
        },
        {
          "value": "LY",
          "label": "Libyan Arab Jamahiriya"
        },
        {
          "value": "LI",
          "label": "Liechtenstein"
        },
        {
          "value": "LT",
          "label": "Lithuania"
        },
        {
          "value": "LU",
          "label": "Luxembourg"
        },
        {
          "value": "MO",
          "label": "Macao"
        },
        {
          "value": "MG",
          "label": "Madagascar"
        },
        {
          "value": "MW",
          "label": "Malawi"
        },
        {
          "value": "MY",
          "label": "Malaysia"
        },
        {
          "value": "MV",
          "label": "Maldives"
        },
        {
          "value": "ML",
          "label": "Mali"
        },
        {
          "value": "MT",
          "label": "Malta"
        },
        {
          "value": "MH",
          "label": "Marshall Islands"
        },
        {
          "value": "MQ",
          "label": "Martinique"
        },
        {
          "value": "MR",
          "label": "Mauritania"
        },
        {
          "value": "MU",
          "label": "Mauritius"
        },
        {
          "value": "YT",
          "label": "Mayotte"
        },
        {
          "value": "MX",
          "label": "Mexico"
        },
        {
          "value": "FM",
          "label": "Micronesia, Federated States of"
        },
        {
          "value": "MD",
          "label": "Moldova, Republic of"
        },
        {
          "value": "MC",
          "label": "Monaco"
        },
        {
          "value": "MN",
          "label": "Mongolia"
        },
        {
          "value": "ME",
          "label": "Montenegro"
        },
        {
          "value": "MS",
          "label": "Montserrat"
        },
        {
          "value": "MA",
          "label": "Morocco"
        },
        {
          "value": "MZ",
          "label": "Mozambique"
        },
        {
          "value": "MM",
          "label": "Myanmar"
        },
        {
          "value": "NA",
          "label": "Namibia"
        },
        {
          "value": "NR",
          "label": "Nauru"
        },
        {
          "value": "NP",
          "label": "Nepal"
        },
        {
          "value": "NL",
          "label": "Netherlands"
        },
        {
          "value": "AN",
          "label": "Netherlands Antilles"
        },
        {
          "value": "NC",
          "label": "New Caledonia"
        },
        {
          "value": "NZ",
          "label": "New Zealand"
        },
        {
          "value": "NI",
          "label": "Nicaragua"
        },
        {
          "value": "NE",
          "label": "Niger"
        },
        {
          "value": "NG",
          "label": "Nigeria"
        },
        {
          "value": "NU",
          "label": "Niue"
        },
        {
          "value": "NF",
          "label": "Norfolk Island"
        },
        {
          "value": "KP",
          "label": "North Korea"
        },
        {
          "value": "MK",
          "label": "North Macedonia"
        },
        {
          "value": "MP",
          "label": "Northern Mariana Islands"
        },
        {
          "value": "NO",
          "label": "Norway"
        },
        {
          "value": "OM",
          "label": "Oman"
        },
        {
          "value": "PK",
          "label": "Pakistan"
        },
        {
          "value": "PW",
          "label": "Palau"
        },
        {
          "value": "PS",
          "label": "Palestinian Territory, Occupied"
        },
        {
          "value": "PA",
          "label": "Panama"
        },
        {
          "value": "PG",
          "label": "Papua New Guinea"
        },
        {
          "value": "PY",
          "label": "Paraguay"
        },
        {
          "value": "PE",
          "label": "Peru"
        },
        {
          "value": "PH",
          "label": "Philippines"
        },
        {
          "value": "PN",
          "label": "Pitcairn Islands"
        },
        {
          "value": "PL",
          "label": "Poland"
        },
        {
          "value": "PT",
          "label": "Portugal"
        },
        {
          "value": "PR",
          "label": "Puerto Rico"
        },
        {
          "value": "QA",
          "label": "Qatar"
        },
        {
          "value": "RE",
          "label": "Reunion"
        },
        {
          "value": "RO",
          "label": "Romania"
        },
        {
          "value": "RU",
          "label": "Russian Federation"
        },
        {
          "value": "RW",
          "label": "Rwanda"
        },
        {
          "value": "BL",
          "label": "Saint Barthélemy"
        },
        {
          "value": "SH",
          "label": "Saint Helena"
        },
        {
          "value": "KN",
          "label": "Saint Kitts and Nevis"
        },
        {
          "value": "LC",
          "label": "Saint Lucia"
        },
        {
          "value": "MF",
          "label": "Saint Martin"
        },
        {
          "value": "PM",
          "label": "Saint Pierre and Miquelon"
        },
        {
          "value": "VC",
          "label": "Saint Vincent and the Grenadines"
        },
        {
          "value": "WS",
          "label": "Samoa"
        },
        {
          "value": "SM",
          "label": "San Marino"
        },
        {
          "value": "ST",
          "label": "Sao Tome and Principe"
        },
        {
          "value": "SA",
          "label": "Saudi Arabia"
        },
        {
          "value": "SN",
          "label": "Senegal"
        },
        {
          "value": "RS",
          "label": "Serbia"
        },
        {
          "value": "CS",
          "label": "Serbia and Montenegro"
        },
        {
          "value": "SC",
          "label": "Seychelles"
        },
        {
          "value": "SL",
          "label": "Sierra Leone"
        },
        {
          "value": "SG",
          "label": "Singapore"
        },
        {
          "value": "SX",
          "label": "Sint Maarten"
        },
        {
          "value": "SK",
          "label": "Slovakia"
        },
        {
          "value": "SI",
          "label": "Slovenia"
        },
        {
          "value": "SB",
          "label": "Solomon Islands"
        },
        {
          "value": "SO",
          "label": "Somalia"
        },
        {
          "value": "ZA",
          "label": "South Africa"
        },
        {
          "value": "GS",
          "label": "South Georgia and the South Sandwich Islands"
        },
        {
          "value": "SS",
          "label": "South Sudan"
        },
        {
          "value": "ES",
          "label": "Spain"
        },
        {
          "value": "LK",
          "label": "Sri Lanka"
        },
        {
          "value": "SD",
          "label": "Sudan"
        },
        {
          "value": "SR",
          "label": "Suriname"
        },
        {
          "value": "SJ",
          "label": "Svalbard and Jan Mayen"
        },
        {
          "value": "SZ",
          "label": "Swaziland"
        },
        {
          "value": "SE",
          "label": "Sweden"
        },
        {
          "value": "CH",
          "label": "Switzerland"
        },
        {
          "value": "SY",
          "label": "Syrian Arab Republic"
        },
        {
          "value": "TW",
          "label": "Taiwan"
        },
        {
          "value": "TJ",
          "label": "Tajikistan"
        },
        {
          "value": "TZ",
          "label": "Tanzania, United Republic of"
        },
        {
          "value": "TH",
          "label": "Thailand"
        },
        {
          "value": "TL",
          "label": "Timor-Leste"
        },
        {
          "value": "TG",
          "label": "Togo"
        },
        {
          "value": "TK",
          "label": "Tokelau"
        },
        {
          "value": "TO",
          "label": "Tonga"
        },
        {
          "value": "TT",
          "label": "Trinidad and Tobago"
        },
        {
          "value": "TN",
          "label": "Tunisia"
        },
        {
          "value": "TR",
          "label": "Turkey"
        },
        {
          "value": "TM",
          "label": "Turkmenistan"
        },
        {
          "value": "TC",
          "label": "Turks and Caicos Islands"
        },
        {
          "value": "TV",
          "label": "Tuvalu"
        },
        {
          "value": "UG",
          "label": "Uganda"
        },
        {
          "value": "UA",
          "label": "Ukraine"
        },
        {
          "value": "AE",
          "label": "United Arab Emirates"
        },
        {
          "value": "GB",
          "label": "United Kingdom"
        },
        {
          "value": "US",
          "label": "United States"
        },
        {
          "value": "UM",
          "label": "United States Minor Outlying Islands"
        },
        {
          "value": "UY",
          "label": "Uruguay"
        },
        {
          "value": "UZ",
          "label": "Uzbekistan"
        },
        {
          "value": "VU",
          "label": "Vanuatu"
        },
        {
          "value": "VE",
          "label": "Venezuela"
        },
        {
          "value": "VN",
          "label": "Vietnam"
        },
        {
          "value": "VG",
          "label": "Virgin Islands, British"
        },
        {
          "value": "VI",
          "label": "Virgin Islands, U.S."
        },
        {
          "value": "WF",
          "label": "Wallis and Futuna"
        },
        {
          "value": "EH",
          "label": "Western Sahara"
        },
        {
          "value": "YE",
          "label": "Yemen"
        },
        {
          "value": "ZM",
          "label": "Zambia"
        },
        {
          "value": "ZW",
          "label": "Zimbabwe"
        },
        {
          "value": "AX",
          "label": "Åland Islands"
        }
      ],
      "showWhen": [{ "field": "inputMode", "in": ["full_formula"] }],
      "defaultValue": ["GLOBAL"],
      "tooltip": "Select target market(s) for regulatory compliance checking."
    },
    {
      "key": "intendedClaims",
      "type": "textarea",
      "label": "Intended Claims (Optional)",
      "placeholder": "e.g., Anti-aging, Whitening, Moisturizing...",
      "showWhen": [{ "field": "inputMode", "in": ["full_formula"] }],
      "tooltip": "Optional but powerful. List intended marketing or scientific claims for the product."
    },
    {
      "key": "inputFields",
      "type": "multiselect",
      "label": "Select Input Fields (from upstream node)",
      "options": [
        {
          "value": "Compound_name",
          "label": "Compound Name"
        },
        {
          "value": "Compound",
          "label": "Compound"
        },
        {
          "value": "SMILES",
          "label": "SMILES"
        },
        {
          "value": "ingredient_name",
          "label": "Ingredient Name"
        },
        {
          "value": "name",
          "label": "Name"
        },
        {
          "value": "inci",
          "label": "INCI"
        }
      ],
      "showWhen": [{ "field": "inputMode", "in": ["compounds_previous", "formula_previous"] }],
      "tooltip": "Select which fields from the upstream node to use as input. You can select multiple fields (e.g., Compound Name and SMILES). Options include compound/ingredient names and SMILES from filter, rule-based-filter, or candidate-library nodes.",
      "defaultValue": []
    },
    {
      "key": "referenceProduct",
      "type": "text",
      "label": "Similar Product (Link/Name)",
      "placeholder": "Paste product link or name here...",
      "showWhen": [{ "field": "inputMode", "in": ["single_ingredient", "batch_ingredients", "full_formula", "formula_previous"] }],
      "tooltip": "Optional reference product for comparison."
    },
    {
      "key": "desiredEffect",
      "type": "text",
      "label": "Desired Effect",
      "placeholder": "e.g., Whitening, Anti-aging...",
      "tooltip": "Optional desired effect or benefit."
    },
    {
      "key": "targetUser",
      "type": "select",
      "label": "Target User",
      "options": [
        {
          "label": "Baby",
          "value": "baby"
        },
        {
          "label": "Under 18",
          "value": "under_18"
        },
        {
          "label": "18 - 30",
          "value": "18_30"
        },
        {
          "label": "Middle-aged",
          "value": "middle_aged"
        },
        {
          "label": "Elderly",
          "value": "elderly"
        }
      ],
      "defaultValue": "18_30"
    },
    {
      "key": "targetReligion",
      "type": "select",
      "label": "Target Religion",
      "options": [
        {
          "label": "Asia",
          "value": "asia"
        },
        {
          "label": "Europe",
          "value": "europe"
        },
        {
          "label": "North America",
          "value": "north_america"
        },
        {
          "label": "South America",
          "value": "south_america"
        },
        {
          "label": "Africa",
          "value": "africa"
        },
        {
          "label": "Oceania",
          "value": "oceania"
        }
      ],
      "defaultValue": "asia"
    },
    {
      "key": "applicationRoute",
      "type": "select",
      "label": "Application Route",
      "options": [
        {
          "label": "Oral",
          "value": "oral"
        },
        {
          "label": "Dental",
          "value": "dental"
        },
        {
          "label": "Topical",
          "value": "topical"
        }
      ],
      "defaultValue": "topical"
    },
    {
      "key": "dosageForm",
      "type": "select",
      "label": "Dosage Form",
      "options": [
        {
          "label": "Gel",
          "value": "gel"
        },
        {
          "label": "Cream",
          "value": "cream"
        },
        {
          "label": "Lotion",
          "value": "lotion"
        },
        {
          "label": "Ointment",
          "value": "ointment"
        },
        {
          "label": "Shampoo",
          "value": "shampoo"
        },
        {
          "label": "Foam",
          "value": "foam"
        }
      ],
      "defaultValue": "cream"
    }
  ],
  "defaultConfig": {
    "inputMode": "single_ingredient",
    "ingredientName": "",
    "casNumber": "",
    "ecNumber": "",
    "femaNumber": "",
    "drugbankId": "",
    "intendedUse": "active",
    "concentration": null,
    "batchIngredientsFile": null,
    "fullFormulaFile": null,
    "productType": "leave_on_cosmetic",
    "targetMarkets": ["GLOBAL"],
    "intendedClaims": "",
    "inputFields": [],
    "referenceProduct": "",
    "desiredEffect": "",
    "targetUser": "18_30",
    "targetReligion": "asia",
    "applicationRoute": "topical",
    "dosageForm": "cream"
  }
}
